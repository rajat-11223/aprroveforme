<%= form_for @approval do |f| %>
  <div class="grid-x grid-margin-x">
    <div class="large-8 large-offset-2 item-approval-form cell">
      <div class="grid-x">
        <div class="large-offset-1 large-2 small-3 cell">
          <p class="form-label">File*</p>
        </div>
        <div class="large-4 small-4 cell">
          <a id="file-selector" onclick="ApproveForMe.google.createFilePicker()" class="button primary" style="width:100%;">Select File</a>
        </div>
        <div class="large-offset-1 large-4 small-5 cell">
          <p class="form-file-name">
            <div id="result">
              <%= f.hidden_field :link if @approval.link %>
              <%= f.hidden_field :embed if @approval.embed %>
              <%= f.hidden_field :link_title if @approval.link_title %>
              <%= f.hidden_field :link_id if @approval.link_id %>
              <%= f.hidden_field :link_type if @approval.link_type %>
              <%= (link_to @approval.link_title, @approval.link ) if @approval.link_title %>
            </div>
          </p>
        </div>
        <label class="error"><%= error_message_on @approval, :link %></label>
      </div>
      <div class="grid-x">
        <div class="large-8 large-offset-3 small-12 cell">
          <label for="perms" style="margin-top:-18px;">
            <%= check_box("approval", "perms", {}, "writer", "reader") %>
            Allow reviewers to edit this document.</label>
        </div>
      </div>
      <div class="grid-x">
        <div class="large-offset-1 large-2 small-3 cell">
          <p class="form-label">Title*</p>
        </div>
        <div class="large-8 small-9 cell">
          <%= f.text_field :title, :placeholder => "Title", :id=>"result2" %>
        </div>
      </div>
      <div class="grid-x">
        <div class="large-offset-1 large-2 small-3 cell">
          <p class="form-label">Description</p>
        </div>
        <div class="large-8 small-9 cell">
          <%= f.text_area :description, placeholder: "Description", rows: 3 %>
        </div>
      </div>
      <div class="grid-x">
        <div class="large-offset-1 large-2 small-3 cell">
          <p class="form-label">Deadline*</p>
        </div>
        <div class="large-8 small-9 cell">
          <%= f.text_field :deadline, placeholder: "MM/DD/YYYY", id: "datepicker", value: (@approval.deadline.strftime("%m/%d/%Y") if @approval.deadline), as: :string %>
        </div>
      </div>
      <div class="grid-x">
        <div class="large-offset-1 large-2 small-12 cell">
          <p class="form-label">Approvers*</p>
        </div>
        <div class="large-8 small-12 cell">
          <div class="grid-x grid-margin-x">
            <label class="error"><%= error_message_on @approval, :approvers %></label>
            <div class="large-3 small-3 cell">
              <p class="form-label-approvers">Name</p>
            </div>
            <div class="large-6 small-6 cell">
              <p class="form-label-approvers">Email Address</p>
            </div>
            <div class="large-3 small-3 cell">
              <p class="form-label-approvers">Type</p>
            </div>
          </div>
          <%= f.fields_for :approvers do |builder| %>
          <%= render 'approver_form', :f => builder %>
        <% end %>
        <div class="add"></div>
        <div class="grid-x">
          <div class="large-12 cell">
            <%= button_to_add_fields('Add Another Approver', f, :approvers ) %>
          </div>
        </div>

      </div>
    </div>
    <div class="grid-x">
      <div class="large-10 large-offset-3  cell">
        <%= f.submit "Submit Document for Approval", :class => "button primary", :id =>"submit-approval" %>
      </div>
    </div>
  </div>
  </div>
<% end %>
