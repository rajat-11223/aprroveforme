
<% if approver.status == "Approved" %>
  <p class="alert-style">You have already approved this document.
  <a href="#" role="button" class="button success" data-toggle="modal" data-backdrop="false" data-reveal-id="myModal">Update your response</a></p>
<% elsif approver.status == "Declined" %>
  <p class="alert-style">You have already declined this document. 
  <a href="#" role="button" class="button success" data-toggle="modal" data-backdrop="false" data-reveal-id="myModal">Update your response</a></p>
<% else %>
  <p class="alert-style"><%= User.find(approver.approval.owner).name %> has asked for your approval of "<%= approver.approval.title %>."
  <a href="#" role="button" class="button success" data-toggle="modal" data-backdrop="false" data-reveal-id="myModal">Click here to respond</a></p>
<% end %>



<div id="myModal" class="reveal-modal">
  <div class="modal-header">
    <h3 id="myModalLabel">Do you approve <%= approver.approval.title %>?</h3>
  </div>
  <div class="modal-body">
    <%= simple_form_for approver.approval do |f| %>
    <%= f.simple_fields_for approver do |builder| %>
      <%= builder.input :comments, :input_html => { :class => "span5", :rows => "3" }, :placeholder => "Have any feedback?", :label => false %>
      <a class="close-reveal-modal">&#215;</a>
    <% end %>
  </div>
  <div class="modal-footer">
    <%= f.button :submit, :class => "button success", :name => "approval[approver][status]", :value => "Approved" %>
    <%= f.button :submit, :class => "button alert", :name => "approval[approver][status]", :value => "Declined" %>
    <button class="button secondary" data-dismiss="modal" aria-hidden="true">Cancel</button>
  </div>
  <% end %>
</div>

